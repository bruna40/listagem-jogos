<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
        <title>Jogoteca</title>
    </head>
    <body>
        <div class="container">
            {% with messages = get_flashed_messages() %}
                    {% if messages %} 
                    <ul id="messages" class="list-unstyled">
                    {% for message in messages %}
                        <li class="alert alert-success">{{ message }}</li>
                    {% endfor %}
                    </ul>
                    {% endif %}
                {% endwith %}
            <div class="page-header">
                <h1>{{ title }}</h1>
            </div>
            <table class="table table-striped table-responsive table-bordered">
                <thead class="thead-default">
                    <tr>
                        <th>Nome</th>
                        <th>Categoria</th>
                        <th>Console</th>
                    </tr>
                </thead>
                <tbody id='table'>
                   {% for jogo in jogos %}
                        <tr>
                            <td>{{ jogo.nome }}</td>
                            <td>{{ jogo.categoria }}</td>
                            <td>{{ jogo.console }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
            <button type='button' class="btn btn-primary btn-voltar" id='btn-voltar'>
                Novo Jogo
            </button>
            <button type='button' class='btn btn-primary btn-excluir' id='btn-excluir'>
                Limpar
            </button>
            <button type='button' class="btn btn-primary btn-voltar" id='btn-logout'>
                Logout
            </button>
        </div>

    </body>
    <script>
        const btnVoltar = document.querySelector('.btn-voltar');
        btnVoltar.addEventListener('click', () => {
            window.location.href = '/novo';
        });
        const table = document.querySelector('#table');
        const btnExcluir = document.querySelector('.btn-excluir');
        btnExcluir.addEventListener('click', () => {
            table.innerHTML = '';
        });
        const btnLogout = document.querySelector('.btn-logout');
        btnLogout.addEventListener('click', () => {
            window.location.href = '/logout';
        });

    </script>
</html>